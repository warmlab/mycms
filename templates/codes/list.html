{% extends "codes/base.html" %}
{% block style %}
{% load static %}
<link href="{% static 'codes/css/code.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'codes/css/emacs.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'codes/css/markdown.css' %}" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block content %}
	{% load url from future %}
	{% load markup %}
	{% load code_filter %}
	{% load humanize %}
<div id="home_left" class="home_box">
  {# <h2><a href='http://feeds2.feedburner.com/mbleigh' class='float-right'><img src="{% static 'images/subscribe-icon.gif' %}" alt="Subscribe"/></a>Latest Blog Post</h2> #}
	{% for code in code_list %}
	<div class='post'>
	  {# if not forloop.first #}
	  <span class='date'>{{code.modified|naturalday|capfirst}}</span>
	  {# endif #}
	  <h1><a href='{% url 'code_content' code.slug %}'>{{code.title}}</a></h1>
	  <div class='body'>{{ code.body|slice_lines:16|markdown:"codehilite" }}</div>
	  {% load disqus_tags %}
	  <a href="{% url 'codes.views.code' code.slug %}#disqus_thread">View Comments</a>
	  {% disqus_num_replies %}
	</div>
	{% endfor %}
	{% if not code_list %}
	<div class='post'>
	  <h2>No Blog</h2>
	  <h1>No Thing</h1>
	  <div class='body'>There is no content just now!</div>
	</div>
	{% endif %}

	{% if code_list and codes.paginator.num_pages > 1 %}
	<div class="chapter">
		{% if codes.has_previous %}
		<a href="?page={{ codes.previous_page_number }}">&laquo; Newer</a>
		{% endif %}
		&nbsp;Page {{ codes.number }} of {{ codes.paginator.num_pages }}&nbsp;
		{% if codes.has_next %}
		<a href="?page={{ codes.next_page_number }}">Older &raquo;</a>
		{% endif %}
	</div>
	{% endif %}
</div>
{% endblock %}
